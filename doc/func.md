---
title:vscode中markdown
tags:vscode markdown
notebook :blogs
---

# tushare中的主要函数
>tushare的内置函数，不是api的函数，与api的函数有重叠但也以后不一样的地方
##函数清单(字母序)
MailMerge,合并邮件输出
TraderAPI，股票实盘交易接口，用于下单买入卖出的
bar，交易数据接口 ，
MACD的一个辅助指标——柱状线 (BAR)。在大多数技术分析软件中，柱状线是有颜色的，在低于0轴以下是绿色，高于0轴以上是红色，前者代表趋势较弱，后者代表趋势较强。 
~~~
获取连接备用
cons = ts.get_apis()
指数日行情, 设置asset='INDEX'
df = ts.bar('000300', conn=cons, asset='INDEX', start_date='2016-01-01', end_date='')
股票日线行情
df = ts.bar('600000', conn=cons, freq='D', start_date='2016-01-01', end_date='')
带因子的行情
factors因子数据，目前支持以下两种：
vr:量比,默认不返回，返回需指定：factor=['vr']
tor:换手率，默认不返回，返回需指定：factor=['tor']
以上两种都需要：factor=['vr', 'tor']
adj:复权类型,None不复权,qfq:前复权,hfq:后复权
ma:均线,支持自定义均线频度，如：ma5/ma10/ma20/ma60/maN
df = ts.bar('600000', conn=cons, start_date='2016-01-01', end_date='', ma=[5, 10, 20], factors=['vr', 'tor'])
复权行情, adj=qfq(前复权)， hfq（后复权），默认None不复权
df = ts.bar('600000', conn=cons, adj='qfq', start_date='2016-01-01', end_date='')
分钟数据, 设置freq参数，分别为1min/5min/15min/30min/60min，D(日)/W(周)/M(月)/Q(季)/Y(年)
df = ts.bar('600000', conn=cons, freq='1min', start_date='2016-01-01', end_date='')
期货数据, 设置asset='X'
df = ts.bar('CU1801', conn=cons, asset='X', start_date='2016-01-01', end_date='')
港股数据, 设置asset='X'
df = ts.bar('00981', conn=cons, asset='X', start_date='2016-01-01', end_date='')
美股数据, 设置asset='X'
df = ts.bar('BABA', conn=cons, asset='X', start_date='2016-01-01', end_date='')
df.head(5)
~~~

bdi,龙虎榜数据

broker_tops,龙虎榜数据，获取营业部近5、10、30、60日上榜次数、累积买卖等情况。好像没什么大作用
如平安证券有限责任公司深圳深南东路罗湖商务中心证券营业部

cap_tops，获取个股上榜统计数据，获取近5、10、30、60日个股上榜统计数据,包括上榜次数、累积购买额、累积卖出额、净额、买入席位数和卖出席位数。有用

close_apis,关闭连接

coins_bar,获取各类k线数据,返回日期时间，开盘价，最高价，最低价，收盘价，成交量

coins_snapshot,获取实时快照数据
coins_tick,币市行情，实时tick行情
coins_trade,币市行情，获取实时交易数据,
day_boxoffice,获取单日电影票房数据
day_cinema,获取影院单日票房排行数据
forecast_data,获取业绩预告数据
返回，股票代码,名称，业绩变动类型【预增、预亏等】，发布日，上年同期每股收益，业绩变动范围
fund_holdings,获取基金持股数据,
返回,股票代码,名称,报告日期,基金家数与上期相比（增加或减少了）,基金持股数（万股）,与上期相比,基金持股市值,占流通盘比率

get_apis()建立连接
get_area_classified,获取地域分类数据
get_balance_sheet,获取某股票的历史所有时期资产负债表
get_cash_flow,获取某股票的历史所有时期现金流表
get_cashflow_data,获取现金流量数据
返回,股票代码,名称,经营现金净流量对销售收入比率,资产的经营现金流量回报率,经营现金净流量与净利润的比率,经营现金净流量对负债比率,现金流量比率
get_cffex_daily,获取中金所日交易数据
返回,合约代码,日期,开盘价,最高价,最低价,收盘价,成交量,持仓量,成交额,结算价,前结算价,合约类别
get_concept_classified,获取概念分类数据
返回,股票代码,股票名称,概念名称
get_cpi,获取居民消费价格指数数据,
返回,统计月份,价格指数
get_czce_daily,获取郑商所日交易数据(期货)
返回,合约代码,日期,开盘价,最高价,最低价,收盘价,成交量,持仓量,成交额,结算价,前结算价,合约类别
或者
合约代码,日期,开盘价,最高价,最低价,收盘价, 前结算价,结算价, 对冲值  , 成交量,持仓量,持仓变化,成交额,隐含波动率, 行权量,合约类别

get_day_all,获取每日收盘行情
返回,股票代码, 名称, 涨幅%,现价, 涨跌, 今开, 最高,最低, 昨收, 市盈(动),量比,换手%, 振幅%%,总量,  内盘, 外盘, 总金额,总股本(万), 细分行业,地区, 流通股本(万), 流通市值, AB股总市值, 均价,  强弱度%,活跃度,  笔换手, 攻击波%,近3月涨幅 ,近6月涨幅

get_dce_daily, 获取大连商品交易所日交易数据(期货)
返回大商所日交易数据(DataFrame): 合约代码,日期,开盘价, 最高价,最低价,收盘价,成交量,持仓量,成交额,结算价,前结算价,合约类别
或者郑商所每日期权交易数据
合约代码， 日期，开盘价，最高价，最低价，收盘价，前结算价，结算价， 对冲值  ， 成交量， 持仓量，持仓变化， 成交额， 隐含波动率， 行权量，合约类别

get_debtpaying_data,获取偿债能力数据
返回,代码,名称,流动比率,速动比率,现金比率,利息支付倍数,股东权益比率,股东权益增长率

get_deposit_rate,获取存款利率数据,
返回,变动日期,存款种类,利率（%）

get_fund_info,获取基金基本信息
返回,基金全称,基金简称,基金代码,成立日期,上市日期,存续期限,上市地点,运作方式,基金类型,二级分类,基金规模(亿元),基金总份额(亿份),上市流通份额(亿份),基金份额日期,上市季度,基金管理人,基金托管人

get_future_daily,获取中金所日交易数据
返回,  合约代码,日期,开盘价,最高价,最低价, 收盘价,成交量, 持仓量,成交额,结算价,前结算价,合约类别

get_gdp_contrib,获取三大产业贡献率数据
返回,统计年度,国内生产总值,第一产业献率(%),第二产业献率(%),其中工业献率(%),第三产业献率(%)

get_gdp_for,获取三大需求对GDP贡献数据
返回,统计年度,最终消费支出贡献率(%),最终消费支出拉动(百分点),资本形成总额贡献率(%),资本形成总额拉动(百分点),货物和服务净出口贡献率(%),货物和服务净出口拉动(百分点)

get_gdp_pull,获取三大产业对GDP拉动数据
返回,统计年度,国内生产总值同比增长(%),第一产业拉动率(%),第二产业拉动率(%),其中工业拉动(%),第三产业拉动率(%)

get_gdp_quarter,获取季度国内生产总值数据
返回,季度,国内生产总值(亿元),国内生产总值同比增长(%),第一产业增加值(亿元),第一产业增加值同比增长(%),第二产业增加值(亿元),第二产业增加值同比增长(%),第三产业增加值(亿元),第三产业增加值同比增长(%)

get_gdp_year,获取年度国内生产总值数据
返回,统计年度,国内生产总值(亿元),人均国内生产总值(元),国民生产总值(亿元),第一产业(亿元),第二产业(亿元),工业(亿元),建筑业(亿元),第三产业(亿元),交通运输仓储邮电通信业(亿元),批发零售贸易及餐饮业(亿元)

get_gem_classified,获取创业板股票
返回, 股票代码,股票名称

get_gold_and_foreign_reserves,获取外汇储备
返回,统计时间,黄金储备(万盎司),外汇储备(亿美元)

get_growth_data,获取成长能力数据
返回,股票代码,名称,主营业务收入增长率(%),净利润增长率(%),净资产增长率,总资产增长率,每股收益增长率,股东权益增长率

get_h_data,获取历史复权数据
autype:string,复权类型，qfq-前复权 hfq-后复权 None-不复权，默认为qfq
drop_factor : bool, 默认 True 是否移除复权因子，在分析过程中可能复权因子意义不大，但是如需要先储存到数据库之后再分析的话，有该项目会更加灵活

返回,交易日期 (index),open 开盘价,最高价,收盘价,最低价,成交量,成交金额

get_hist_data,获取个股历史交易记录
ktype：string 数据类型，D=日k线 W=周 M=月 5=5分钟 15=15分钟 30=30分钟 60=60分钟，默认为D
返回,日期 ，开盘价， 最高价， 收盘价， 最低价， 成交量， 价格变动 ，涨跌幅，5日均价，10日均价，20日均价，5日均量，10日均量，20日均量，换手率

get_hists,批量获取历史行情数据，具体参数和返回数据类型请参考get_hist_data接口

get_hs300s,获取沪深300当前成份股及所占权重
返回,股票代码,股票名称,日期,权重

get_index,获取大盘指数行情
返回,指数代码,指数名称,涨跌幅,开盘价,昨日收盘价,收盘价,最高价,最低价,成交量(手),成交金额（亿元）

get_industry_classified,获取行业分类数据
返回,股票代码,股票名称,行业名称

get_instrument,获取证券列表
get_intlfuture,
get_k_data,获取k线数据
返回,交易日期 (index),开盘价,最高价,收盘价,最低价,成交量,成交额,换手率,股票代码

get_latest_news,获取即时财经新闻
返回,新闻类别,新闻标题,发布时间,新闻链接,新闻内容（在show_content为True的情况下出现）

get_loan_rate,获取贷款利率数据
返回,执行日期,存款种类,利率（%）
get_markets,获取市场代码

get_money_supply,获取货币供应量数据
返回,month :统计时间
m2 :货币和准货币（广义货币M2）(亿元)
m2_yoy:货币和准货币（广义货币M2）同比增长(%)
m1:货币(狭义货币M1)(亿元)
m1_yoy:货币(狭义货币M1)同比增长(%)
m0:流通中现金(M0)(亿元)
m0_yoy:流通中现金(M0)同比增长(%)
cd:活期存款(亿元)
cd_yoy:活期存款同比增长(%)
qm:准货币(亿元)
qm_yoy:准货币同比增长(%)
ftd:定期存款(亿元)
ftd_yoy:定期存款同比增长(%)
sd:储蓄存款(亿元)
sd_yoy:储蓄存款同比增长(%)
rests:其他存款(亿元)
rests_yoy:其他存款同比增长(%)

get_money_supply_bal,获取货币供应量(年底余额)数据
返回,year :统计年度
m2 :货币和准货币(亿元)
m1:货币(亿元)
m0:流通中现金(亿元)
cd:活期存款(亿元)
qm:准货币(亿元)
ftd:定期存款(亿元)
sd:储蓄存款(亿元)
rests:其他存款(亿元)

get_nav_close,获取封闭型基金净值数据
返回,开放型基金净值数据(DataFrame):
基金代码,基金名称,单位净值,累计净值,增长率(%),折溢价率(%),净值日期,成立日期,到期日期,基金经理,基金类型,基金总份额
get_nav_grading,获取分级子基金净值数据
type:string
            封闭基金类型:
                1. all      所有分级基金
                2. fjgs     分级-固收
                3. fjgg     分级-杠杆

        sub_type:string
            基金子类型(type=all sub_type无效):
                *all    全部分级债券
                *wjzq   稳健债券型
                *czzq   纯债债券型
                *jjzq   激进债券型
                *gp     股票型
                *zs     指数型
返回,开放型基金净值数据(DataFrame):
基金代码,基金名称,单位净值,累计净值,增长率(%),折溢价率(%),净值日期,成立日期,到期日期,基金经理,基金类型,基金总份额

get_nav_history,获取历史净值数据
返回date 发布日期 (index)
value 基金净值(股票/混合/QDII型基金) / 年华收益(货币/债券基金)
total 累计净值(股票/混合/QDII型基金) / 万分收益(货币/债券基金)
change 净值增长率(股票/混合/QDII型基金)

get_nav_open,获取开放型基金净值数据
type:string 开放基金类型:
1. all 		所有开放基金
2. equity	股票型开放基金
3. mix 		混合型开放基金
4. bond		债券型开放基金
5. monetary	货币型开放基金
6. qdii		QDII型开放基金

返回,开放型基金净值数据(DataFrame):
基金代码,基金名称,单位净值,累计净值,前一日净值,涨跌额,增长率(%),净值日期,基金经理,基金类型,基金总份额

get_notices,个股信息地雷
返回,信息标题,信息类型,公告日期,信息内容URL

get_operation_data,获取营运能力数据
返回,代码,名称,应收账款周转率(次),应收账款周转天数(天),存货周转率(次),存货周转天数(天),流动资产周转率(次),流动资产周转天数(天)

get_ppi,获取工业品出厂价格指数数据
返回,统计月份
ppiip :工业品出厂价格指数
ppi :生产资料价格指数
qm:采掘工业价格指数
rmi:原材料工业价格指数
pi:加工工业价格指数    
cg:生活资料价格指数
food:食品类价格指数
clothing:衣着类价格指数
roeu:一般日用品价格指数
dcg:耐用消费品价格指数

get_profit_data,获取盈利能力数据
返回,代码,名称,净资产收益率(%),净利率(%),毛利率(%),净利润(万元)
,每股收益,营业收入(百万元),每股主营业务收入(元)

get_profit_statement,获取某股票的历史所有时期利润表
get_realtime_quotes,获取实时交易数据 getting real time quotes data
用于跟踪交易情况（本次执行的结果-上一次执行的数据）
get_report_data,获取业绩报表数据
股票代码,名称,每股收益,每股收益同比(%),每股净资产,净资产收益率(%),每股现金流量(元),净利润(万元),净利润同比(%),分配方案,发布日期

get_rrr,获取存款准备金率数据
变动日期,调整前存款准备金率(%),调整后存款准备金率(%),调整幅度(%)

get_shfe_daily,获取上期所日交易数据
合约代码,日期, 开盘价,最高价,最低价,收盘价,成交量,持仓量,成交额,结算价,前结算价,合约类别

get_shfe_vwap,获取上期所日成交均价数据
郑商所日交易数据(DataFrame):
合约代码, 日期,时段，分09:00-10:15和09:00-15:00两类,加权平均成交均价

get_sina_dd,获取sina大单数据
当日所有股票交易数据(DataFrame)
股票代码,股票名称,交易时间,价格,成交量,前一笔价格,类型（买、卖、中性盘）

get_sme_classified,获取中小板股票
股票代码,股票名称
get_st_classified,获取风险警示板股票
股票代码,股票名称

get_stock_basics,获取沪深上市公司基本情况
返回,股票代码,名称,细分行业,地区,市盈率,流通股本,总股本(万),总资产(万)
,流动资产,固定资产,公积金,每股公积金,每股收益,每股净资,市净率,上市日期

get_suspended,获取暂停上市股票列表
返回,股票代码,股票名称,上市日期,终止上市日期 

get_sz50s,获取上证50成份股
返回,日期,股票代码,股票名称

get_terminated,获取终止上市股票列表
返回,股票代码,股票名称,上市日期,终止上市日期 

get_tick_data, 获取分笔数据
返回,当日所有股票交易数据
成交时间、成交价格、价格变动，成交手、成交金额(元)，买卖类型

get_today_all,一次性获取最近一个日交易日所有股票的交易数据
返回，股票代码，名称，涨跌幅，现价，开盘价，最高价，最低价，最日收盘价，成交量，换手率，成交额，市盈率，市净率，总市值，流通市值

get_today_ticks,获取当日分笔明细数据
返回,当日所有股票交易数据(DataFrame)
成交时间、成交价格、价格变动，成交手、成交金额(元)，买卖类型

get_token,设置配置口令
get_zz500s,获取中证500成份股
返回，日期，股票代码，股票名称，权重

global_realtime,全球实时指数

guba_sina,获取sina财经股吧首页的重点消息
返回，消息标题，消息内容（show_content=True的情况下），发布时间，阅读次数

inst_detail,获取最近一个交易日机构席位成交明细统计数据
返回，股票代码，股票名称 ，交易日期 ，机构席位买入额(万) ，机构席位卖出额(万) 

inst_tops,获取机构席位追踪统计数据
返回，股票代码，名称，累积买入额(万)，买入次数，累积卖出额(万)，卖出次数，净额(万)

is_holiday,判断是否为交易日，返回True or False

latest_content,获取即时财经新闻内容
返回新闻的文字内容
lpr_data,获取贷款基础利率（LPR）
返回,日期,1年贷款基础利率

lpr_ma_data,获取贷款基础利率均值数据
返回,日期,5日均值,10日均值,20日均值

margin_detail,沪深融券融券明细
返回,证券代码, 证券名称, 今日买入额,融资余额,今日卖出量（股）,融券余量（股）,融券余额,融资融券余额(元),本日融资偿还额(元),本日融券偿还量
margin_offset,融资融券可充抵保证金证券
返回,证券代码,证券名称
margin_target,沪深融券融券标的
返回,证券代码,证券名称,融资标的,融券标的

margin_zsl,融资融券充抵保证金折算率
broker:
gtja:国泰君安
yhzq:银河证券
gfzq：广发证券
zszq：招商证券
gxzq：国信证券
swhy：申万宏源
zxjt：中信建投
zxzq：中信证券
返回，证券代码，证券名称，比率，券商代码

moneyflow_hsgt,获取沪深港通资金流向
返回,
交易日期
ggt_ss: 港股通(沪)
ggt_sz: 港股通(深)
hgt: 沪港通
sgt: 深港通
north_money: 北向资金流入
south_money: 南向资金流入

month_boxoffice,获取单月电影票房数据
返回,排名,电影名称,口碑指数,平均票价,场均人次,月度占比,单月票房(万)  ,月内天数,上映日期

new_cbonds,获取可转债申购列表
返回,债券代码,债券名称,股票代码,股票名称,申购代码,发行总数(亿元),最新市场价格,转股价格,首日收盘价,上网发行日期,上市日期,中签率(%),打新收益率(%),每中一股收益（万元）

new_stocks,获取新股上市数据
返回,股票代码,申购代码,名称,上网发行日期,上市日期,发行数量(万股),上网发行数量(万股),发行价格(元),发行市盈率,个人申购上限(万股),募集资金(亿元),网上中签率(%)

notice_content,获取信息地雷内容
返回，信息内容
pledged_detail,股票质押数据
返回,证券代码, 证券名称,公告日期,出质人,质权人,质押数量,质押日期,解除日期

pro_api,初始化pro API,第一次可以通过ts.set_token('your token')来记录自己的token凭证，临时token可以通过本参数传入

pro_bar,BAR数据
返回,股票代码，开盘close/high/low/vol成交量/amount成交额/maN均价/vr量比/tor换手率
 期货(asset='X'),code/open/close/high/low/avg_price：均价  position：持仓量  vol：成交总量

profit_data,获取分配预案数据
返回,股票代码,股票名称,分配年份,公布日期,分红金额（每10股）,转增和送股数（每10股）
profit_divis,获取分送送股数据
返回,代码,证券简称 ,分配年度 ,送股 ,转增股,送转总数 ,派现,预案公布日,股权登记日,除权除息日,事件进程 ,预案或实施,公告日期

quotes,获取实时快照
返回,实时快照，5档行情

realtime_boxoffice,获取实时电影票房数据
返回,   实时票房（万） ,排名,影片名 ,票房占比 （%）,上映天数,累计票房（万） ,数据获取时间
reset_instrument,重新设置本地证券列表

sh_margin_details,获取沪市融资融券明细列表
返回,信用交易日期,标的证券代码,标的证券简称,本日融资余额(元),本日融资买入额(元),本日融资偿还额(元),本日融券余量,本日融券卖出量,本日融券偿还量
sh_margins,获取沪市融资融券数据列表
返回,信用交易日期,本日融资余额(元),本日融资买入额(元),本日融券余量,本日融券余量金额(元),本日融券卖出量,本日融资融券余额(元)

shibor_data,获取上海银行间同业拆放利率（Shibor）
返回,日期,隔夜拆放利率,1周拆放利率,2周拆放利率,1个月拆放利率,3个月拆放利率,6个月拆放利率,9个月拆放利率,1年拆放利率
shibor_ma_data,获取Shibor均值数据
返回,日期,其它分别为各周期5、10、20均价


shibor_quote_data,获取Shibor银行报价数据
date:日期
    bank:报价银行名称
    ON:隔夜拆放利率
    ON_B:隔夜拆放买入价
    ON_A:隔夜拆放卖出价
    1W_B:1周买入
    1W_A:1周卖出
    2W_B:买入
    2W_A:卖出
    1M_B:买入
    1M_A:卖出
    3M_B:买入
    3M_A:卖出
    6M_B:买入
    6M_A:卖出
    9M_B:买入
    9M_A:卖出
    1Y_B:买入
    1Y_A:卖出


stock_issuance,股票增发
返回,证券代码,证券名称,类型，定向增发/公开增发,数量,增发价格,最近收盘价,增发日期,上市日期,锁定年数,截止当前溢价(%)
stock_pledged,股票质押数据
返回,证券代码,证券名称,质押次数,无限售股质押数量(万),限售股质押数量(万),总股本,质押比例（%）


sz_margin_details,获取深市融资融券明细列表
返回,信用交易日期,标的证券代码,标的证券简称,融资买入额(元),融资余额(元), 融券卖出量,融券余量,融券余量(元),融资融券余额(元)

sz_margins,获取深市融资融券数据列表
返回,信用交易日期(index), 融资买入额(元),融资余额(元), 融券卖出量, 融券余量,融券余量(元),融资融券余额(元)

tick，tick数据
asset:证券品种，E:沪深交易所股票和基金, INDEX:沪深交易所指数， X:其他证券品种，大致如下：
支持的扩展行情包括(asset='X')：
郑州商品期权         OZ 大连商品期权         OD 上海商品期权         OS
上海个股期权         QQ 香港指数         FH 郑州商品         QZ 大连商品         QD 上海期货         QS
香港主板         KH 香港权证         KR 开放式基金         FU 货币型基金         FB
招商理财产品         LC 招商货币产品         LB 国际指数         FW 国内宏观指标         HG 中国概念股         CH
美股知名公司         MG B股转H股         HB 股份转让         SB 股指期货         CZ 香港创业板         KG 香港信托基金         KT
国债预发行         GY 主力期货合约         MA
中证指数         ZZ 港股通         GH
market:市场代码，通过ts.get_markets()获取
返回，日期,时间,成交价,成交量
type:买卖方向，0-买入 1-卖出 2-集合竞价成交
期货  0:开仓  1:多开   -1:空开
期货多一列数据oi_change:增仓数据


top10_holders
top_list,获取每日龙虎榜列表
返回,股票代码,名称,涨跌幅,龙虎榜成交额(万),买入额(万),占总成交比例,卖出额(万),占总成交比例,上榜原因,日期
trade_cal,交易日历
isOpen=1是交易日，isOpen=0为休市


xsg_data,获取限售股解禁数据
返回,股票代码,名称,解禁日期,解禁数量（万股）,占总盘比率